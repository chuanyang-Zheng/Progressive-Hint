{
    "problem": "The complete graph of $y=f(x),$ which consists of five line segments, is shown in red below. (On this graph, the distance between grid lines is $1.$)\n\nLet $a$ and $b$ be the largest negative integer and the smallest positive integer, respectively, such that the functions $g(x)=f(x)+ax$ and $h(x)=f(x)+bx$ are invertible. What is $a^2+b^2?$\n\n[asy]\nsize(150);\nreal ticklen=3;\nreal tickspace=2;\n\nreal ticklength=0.1cm;\nreal axisarrowsize=0.14cm;\npen axispen=black+1.3bp;\nreal vectorarrowsize=0.2cm;\nreal tickdown=-0.5;\nreal tickdownlength=-0.15inch;\nreal tickdownbase=0.3;\nreal wholetickdown=tickdown;\nvoid rr_cartesian_axes(real xleft, real xright, real ybottom, real ytop, real xstep=1, real ystep=1, bool useticks=false, bool complexplane=false, bool usegrid=true) {\n\nimport graph;\n\nreal i;\n\nif(complexplane) {\n\nlabel(\"$\\textnormal{Re}$\",(xright,0),SE);\n\nlabel(\"$\\textnormal{Im}$\",(0,ytop),NW);\n\n} else {\n\nlabel(\"$x$\",(xright+0.4,-0.5));\n\nlabel(\"$y$\",(-0.5,ytop+0.2));\n\n}\n\nylimits(ybottom,ytop);\n\nxlimits( xleft, xright);\n\nreal[] TicksArrx,TicksArry;\n\nfor(i=xleft+xstep; i<xright; i+=xstep) {\n\nif(abs(i) >0.1) {\n\nTicksArrx.push(i);\n\n}\n\n}\n\nfor(i=ybottom+ystep; i<ytop; i+=ystep) {\n\nif(abs(i) >0.1) {\n\nTicksArry.push(i);\n\n}\n\n}\n\nif(usegrid) {\n\nxaxis(BottomTop(extend=false), Ticks(\"%\", TicksArrx ,pTick=gray(0.22),extend=true),p=invisible);//,above=true);\n\nyaxis(LeftRight(extend=false),Ticks(\"%\", TicksArry ,pTick=gray(0.22),extend=true), p=invisible);//,Arrows);\n\n}\n\nif(useticks) {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, Ticks(\"%\",TicksArry , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, Ticks(\"%\",TicksArrx , pTick=black+0.8bp,Size=ticklength), above=true, Arrows(size=axisarrowsize));\n\n} else {\n\nxequals(0, ymin=ybottom, ymax=ytop, p=axispen, above=true, Arrows(size=axisarrowsize));\n\nyequals(0, xmin=xleft, xmax=xright, p=axispen, above=true, Arrows(size=axisarrowsize));\n\n}\n};\nrr_cartesian_axes(-5,5,-5,5);\ndraw((-5,-4)--(-2,5)--(-1,3)--(1,-5)--(3,2)--(5,2),red+1);\ndot((-5,-4),red);\ndot((-2,5),red);\ndot((-1,3),red);\ndot((1,-5),red);\ndot((3,2),red);\ndot((5,2),red);\n[/asy]",
    "level": "Level 5",
    "type": "Algebra",
    "solution": "The marked points are $(-5,-4),\\allowbreak (-2,5),\\allowbreak (-1,3),\\allowbreak (1,-5),\\allowbreak (3,2),\\allowbreak (5,2).$ Thus, the slopes of the segments are $$\\begin{array}{c c c}\n\\frac{(5)-(-4)}{(-2)-(-5)} = 3, &\\qquad \\frac{(3)-(5)}{(-1)-(-2)}=-2, \\qquad & \\frac{(-5)-(3)}{(1)-(-1)} = -4, \\\\\n\\\\\n\\frac{(2)-(-5)}{(3)-(1)} = 3.5, & \\frac{(2)-(2)}{(5)-(3)} = 0. &\n\\end{array}$$ If we graph $y=f(x)+cx,$ then the slope of each segment is increased by $c.$ For $f(x)+cx$ to be an invertible function, all the segments of its graph must have positive slope or all the segments of its graph must have negative slope. This guarantees that the function is either increasing for all $x$ in its domain or decreasing for all $x$ in its domain; either way, there is at most one input $x$ for each output. But if the graph of $f(x)$ has any segment of slope $0,$ then it cannot be invertible, and if it has segments of both positive and negative slope, then there is some \"V-shaped\" part of the graph where there are two points with the same $y$-coordinate.\n\nThe largest negative integer we can add to the slope of each segment to make all the slopes negative is $-4.$ The smallest positive integer we can add to the slope of each segment to make all the slopes positive is $5.$ Thus, $a=-4$ and $b=5,$ and $a^2+b^2=\\boxed{41}.$"
}